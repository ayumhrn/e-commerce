var cov_2dt5r01d3x=function(){var path="/home/ayumhrn/Glint-task/MP_2/e_commerce2/controllers/productController.js";var hash="e220df952db4392076165c40a55e62083d131e4a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/ayumhrn/Glint-task/MP_2/e_commerce2/controllers/productController.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:34}},"1":{start:{line:2,column:14},end:{line:2,column:42}},"2":{start:{line:3,column:15},end:{line:3,column:45}},"3":{start:{line:5,column:0},end:{line:31,column:1}},"4":{start:{line:7,column:17},end:{line:7,column:32}},"5":{start:{line:9,column:21},end:{line:18,column:6}},"6":{start:{line:20,column:4},end:{line:30,column:10}},"7":{start:{line:22,column:12},end:{line:24,column:13}},"8":{start:{line:27,column:12},end:{line:29,column:13}},"9":{start:{line:34,column:0},end:{line:44,column:1}},"10":{start:{line:36,column:4},end:{line:43,column:10}},"11":{start:{line:40,column:12},end:{line:42,column:13}},"12":{start:{line:46,column:0},end:{line:60,column:1}},"13":{start:{line:48,column:4},end:{line:59,column:10}},"14":{start:{line:51,column:12},end:{line:53,column:13}},"15":{start:{line:56,column:12},end:{line:58,column:13}},"16":{start:{line:62,column:0},end:{line:71,column:1}},"17":{start:{line:64,column:4},end:{line:70,column:10}},"18":{start:{line:67,column:12},end:{line:69,column:13}},"19":{start:{line:73,column:0},end:{line:85,column:1}},"20":{start:{line:75,column:17},end:{line:75,column:32}},"21":{start:{line:77,column:4},end:{line:84,column:10}},"22":{start:{line:81,column:12},end:{line:83,column:13}},"23":{start:{line:87,column:0},end:{line:97,column:1}},"24":{start:{line:89,column:17},end:{line:89,column:32}},"25":{start:{line:91,column:4},end:{line:96,column:10}},"26":{start:{line:93,column:12},end:{line:95,column:13}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:24},end:{line:5,column:25}},loc:{start:{line:5,column:44},end:{line:31,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:14},end:{line:21,column:15}},loc:{start:{line:21,column:27},end:{line:25,column:9}},line:21},"2":{name:"(anonymous_2)",decl:{start:{line:26,column:15},end:{line:26,column:16}},loc:{start:{line:26,column:24},end:{line:30,column:9}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:34,column:25},end:{line:34,column:26}},loc:{start:{line:34,column:39},end:{line:44,column:1}},line:34},"4":{name:"(anonymous_4)",decl:{start:{line:39,column:14},end:{line:39,column:15}},loc:{start:{line:39,column:25},end:{line:43,column:9}},line:39},"5":{name:"(anonymous_5)",decl:{start:{line:46,column:25},end:{line:46,column:26}},loc:{start:{line:46,column:39},end:{line:60,column:1}},line:46},"6":{name:"(anonymous_6)",decl:{start:{line:50,column:14},end:{line:50,column:15}},loc:{start:{line:50,column:25},end:{line:54,column:9}},line:50},"7":{name:"(anonymous_7)",decl:{start:{line:55,column:15},end:{line:55,column:16}},loc:{start:{line:55,column:22},end:{line:59,column:9}},line:55},"8":{name:"(anonymous_8)",decl:{start:{line:62,column:32},end:{line:62,column:33}},loc:{start:{line:62,column:46},end:{line:71,column:1}},line:62},"9":{name:"(anonymous_9)",decl:{start:{line:66,column:14},end:{line:66,column:15}},loc:{start:{line:66,column:25},end:{line:70,column:9}},line:66},"10":{name:"(anonymous_10)",decl:{start:{line:73,column:24},end:{line:73,column:25}},loc:{start:{line:73,column:44},end:{line:85,column:1}},line:73},"11":{name:"(anonymous_11)",decl:{start:{line:80,column:14},end:{line:80,column:15}},loc:{start:{line:80,column:27},end:{line:84,column:9}},line:80},"12":{name:"(anonymous_12)",decl:{start:{line:87,column:20},end:{line:87,column:21}},loc:{start:{line:87,column:40},end:{line:97,column:1}},line:87},"13":{name:"(anonymous_13)",decl:{start:{line:92,column:14},end:{line:92,column:15}},loc:{start:{line:92,column:27},end:{line:96,column:9}},line:92}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"e220df952db4392076165c40a55e62083d131e4a"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var mongoose=(cov_2dt5r01d3x.s[0]++,require('mongoose'));var product=(cov_2dt5r01d3x.s[1]++,require('../models/product'));var response=(cov_2dt5r01d3x.s[2]++,require('../helpers/response'));cov_2dt5r01d3x.s[3]++;exports.createProduct=async(req,res)=>{cov_2dt5r01d3x.f[0]++;var userId=(cov_2dt5r01d3x.s[4]++,req.decoded._id);var newproduct=(cov_2dt5r01d3x.s[5]++,new product({_id:new mongoose.Types.ObjectId(),productName:req.body.productName,pict:req.body.pict,price:req.body.price,userId,stock:req.body.stock,description:req.body.description,category:req.body.category}));cov_2dt5r01d3x.s[6]++;newproduct.save().then(product=>{cov_2dt5r01d3x.f[1]++;cov_2dt5r01d3x.s[7]++;return res.status(201).json(response.successResponse('New product has been add!',product));}).catch(err=>{cov_2dt5r01d3x.f[2]++;cov_2dt5r01d3x.s[8]++;return res.status(406).json(response.errorResponse('Failed',err,406));});};cov_2dt5r01d3x.s[9]++;exports.showAllProduct=(req,res)=>{cov_2dt5r01d3x.f[3]++;cov_2dt5r01d3x.s[10]++;product.find().limit(12).select('-__v').then(product=>{cov_2dt5r01d3x.f[4]++;cov_2dt5r01d3x.s[11]++;return res.status(200).json(response.successResponse('All list product: ',product));});};cov_2dt5r01d3x.s[12]++;exports.showOneProduct=(req,res)=>{cov_2dt5r01d3x.f[5]++;cov_2dt5r01d3x.s[13]++;product.findOne({_id:req.params.id}).select('-__v').then(product=>{cov_2dt5r01d3x.f[6]++;cov_2dt5r01d3x.s[14]++;return res.status(200).json(response.successResponse('Product',product));}).catch(err=>{cov_2dt5r01d3x.f[7]++;cov_2dt5r01d3x.s[15]++;return res.status(404).json(response.errorResponse('Not found',err.message,404));});};cov_2dt5r01d3x.s[16]++;exports.showproductbyCategory=(req,res)=>{cov_2dt5r01d3x.f[8]++;cov_2dt5r01d3x.s[17]++;product.find({category:req.params.category}).select('-__v').then(product=>{cov_2dt5r01d3x.f[9]++;cov_2dt5r01d3x.s[18]++;return res.status(200).json(response.successResponse('Product',product));});};cov_2dt5r01d3x.s[19]++;exports.updateProduct=async(req,res)=>{cov_2dt5r01d3x.f[10]++;var userId=(cov_2dt5r01d3x.s[20]++,req.decoded._id);cov_2dt5r01d3x.s[21]++;product.updateOne({_id:req.params.id,userId:userId},{$set:req.body},{new:true}).then(product=>{cov_2dt5r01d3x.f[11]++;cov_2dt5r01d3x.s[22]++;return res.status(201).json(response.successResponse('Product successfully updated!',product));});};cov_2dt5r01d3x.s[23]++;exports.deleteOne=async(req,res)=>{cov_2dt5r01d3x.f[12]++;var userId=(cov_2dt5r01d3x.s[24]++,req.decoded._id);cov_2dt5r01d3x.s[25]++;product.findByIdAndRemove({_id:req.params.id,userId:userId}).exec().then(product=>{cov_2dt5r01d3x.f[13]++;cov_2dt5r01d3x.s[26]++;return res.status(200).json(response.successResponse('Success!',product));});};